<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
        "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	
	<title>Test Default</title>
	
	<!-- handle cases where this test file is being run directly or within a frame -->
	<script type="text/javascript">
		if (typeof top.Test != "undefined") {
			window.w = top;
		}
		else {
			document.write('<script src="lib/Test.js" type="text/javascript"><'+'/script>');
			window.w = window;
		}
	</script>
	
	<!-- including gloader, using the default settings -->
	<script src="../src/gloader.js" type="text/javascript">
	   // this comment shouldn't affect gloader, gloader laughs at your puny comment!
	</script>
	
	<script type="text/javascript">
		gloader.settings.clear("override");
		gloader.settings.clear("debug");
	</script>
	
	<!-- the map is assumed to be at the default location: ../src/glow/map.js -->
	<script type="text/javascript">
		var scripts = document.getElementsByTagName("script");
		var count = 0;
		for (var i = 0; i < scripts.length; i++) {
			var src = scripts[i].getAttribute("src");
			if (src && src.indexOf("src/glow/map.js") > -1) count++;
		}
		
		w.Test.ok((count == 1), "The map is assumed to be at the default location, next to the gloader file. (gloader_default.html)");
		
		w.Test.ok((gloader.mapProps["glow"]["$base"] == "../src/glow/{$version}/"), "The glow base is assumed to be at the default location, next to the gloader file. (gloader_default.html)");
	</script>
</head>
<body>
	<h1>Test Default</h1>
	
	<p>
		These tests check gloader's ability to use the correct default map and base when no explicit location is given.
	</p>
	
	<h2 id="testPlan">2 tests</h2>

<pre id="testConsole"></pre>
	
<script type="text/javascript">
	if (w == window) w.Test.setConsole(document.getElementById("testConsole"));
</script>
	

</body>
</html>
